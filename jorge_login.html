<!DOCTYPE html>
<html>
    <head>
        <title>ATM</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css
        ">
    
    </head>
    <body>
    <div class="form-box">
            <h1>Login</h1>
            <div class="input-box">
                <i class="fa fa-address-card"></i>
                <input type="username" placeholder="User ID" id="account">
            </div>
            <div class="input-box">
                <i class="fa fa-key"></i>
                <input type="password" placeholder="Password" id ="password">
                <span class="eye" onclick="myFunction()">
                    <i id ="hide1" class="fa fa-eye"></i>
                    <i id ="hide2" class="fa fa-eye-slash"></i>
                </span>
            </div> 
            <button name="login-btn" id="login-btn"  class="login-btn">LOGIN</button>
    </div>
            <script>
                function myFunction(){
                    var x = document.getElementById("password");
                    var y = document.getElementById("hide1");
                    var z = document.getElementById("hide2");

                    if (x.type =='password') {
                        x.type = "text";
                        y.style.display = "block";
                        z.style.display = "none";
                    }
                    else{
                        x.type = "password";
                        y.style.display = "none";
                        z.style.display = "block";
                    }
                }
            </script>
            <script src="/socket.io/socket.io.js"></script>
            <script>
                var socket = io();
                var loginButton = document.getElementById('login-btn')

                loginButton.addEventListener('click',function(e){
                    var account = document.getElementById('account').value;
                    var password = document.getElementById('password').value;
                    socket.emit('look', {account:account, password:password})

                });
                socket.on('look',function(msg){
                    if (msg === "ok") {
                        alert("Successful Login - ATM")
                        window.location.href = "/account";
                    }else{
                        alert("Error, Username or Password incorrect!")
                    }
                });
            </script>

    </body>

</html>
