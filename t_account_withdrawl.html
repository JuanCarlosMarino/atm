<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ATM System: Withdrawal Funds</title>
    <meta name="description" content="Flat UI Kit Free is a Twitter Bootstrap Framework design and Theme, this responsive framework includes a PSD and HTML version."/>

    <meta name="viewport" content="width=1000, initial-scale=1.0, maximum-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="dist/css/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="dist/css/flat-ui.css" rel="stylesheet">
    <link href="docs/assets/css/demo.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">

    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="dist/js/vendor/html5shiv.js"></script>
      <script src="dist/js/vendor/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="demo-headline" style="padding:0px;">
        <h1 class="demo-logo">ATM
          <small>24 Hour Banking</small>
        </h1>
      </div> <!-- /demo-headline -->
      <div class="row">
        <div class="col-xs-12" id="screenView">
          <!-- Place <h1></h1> below -->
          <h1 class="demo-section-title text-uppercase text-center">Withdrawal Funds</h1>
          
           <div class="row">

            <!-- 3/4 -->
            <div class="col-xs-9">
              <div class="row">
                <div class="col-xs-4">
                  <div class="tile">
                   <a id="qc20" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 20.00</a>
                  </div>

                  <div class="tile">
                   <a id="qc40" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 40.00</a>
                  </div>

                </div>
                <div class="col-xs-4">
                  <div class="tile">
                   <a id="qc60" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 60.00</a>
                  </div>

                  <div class="tile">
                   <a id="qc80" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 80.00</a>
                  </div>
                </div>

                <div class="col-xs-4">
                  <div class="tile">
                   <a id="qc100" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 100.00</a>
                  </div>

                  <div class="tile">
                   <a id="qc200" href="#" class="btn btn-lg btn-primary text-uppercase btn-padding">&#36; 200.00</a>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12">
                  <h6>Click a button to get that amount of cash.</h6>
                  

                </div>
              </div>
              
            </div>
            <!-- 1/4 -->
            <div class="col-xs-3">
              <div class="tile">
               <a id="back" href="/home" class="btn btn-lg btn-inverse text-uppercase btn-padding"><span class="fui-arrow-left"></span> Back</a>
              </div>
              <div class="tile">
               <a id="logout" href="/" class="btn btn-lg btn-info text-uppercase btn-padding"><span class="fui-user"></span> Logout</a>
              </div>
              <div class="tile">
               <a id="cancelTransactin" href="/" class="btn btn-lg btn-danger text-uppercase btn-padding"><span class="fui-cross"></span> Cancel</a>
              </div>
            </div>

        

  
      </div> <!-- // END OPTIONS-->


      </div><!--  // END column-->
  </div><!-- // END row-->

      


    </div> <!-- /container -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io.connect('http://localhost:3000',{
            forceNew:true,
        });

      document.getElementById("qc20").addEventListener("click", function(){withdrawValue(20)});
      document.getElementById("qc40").addEventListener("click", function(){withdrawValue(40)});
      document.getElementById("qc60").addEventListener("click", function(){withdrawValue(60)});
      document.getElementById("qc80").addEventListener("click", function(){withdrawValue(80)});
      document.getElementById("qc100").addEventListener("click", function(){withdrawValue(100)});
      document.getElementById("qc200").addEventListener("click", function(){withdrawValue(200)});
      
      function withdrawValue(num){
        var userData = localStorage.getItem("userData");
        socket.emit('withdrawl', {"account":userData.account,"password":userData.password,"value":num});
      }
      
      socket.on('withdrawl', function(msg) {
        //console.log(msg);
        //document.getElementById("balance").innerHTML = msg;
        if(msg === "ok"){
          alert("Success! Take your money");
          window.location.href = "/home";
        }else{
          alert("Insuficient fonds, try again");
        }
    });
      



    </script>
    

    <script src="dist/js/vendor/jquery.min.js"></script>
    <script src="dist/js/vendor/video.js"></script>
    <script src="dist/js/flat-ui.min.js"></script>
    <script src="docs/assets/js/application.js"></script>

    <script>
      videojs.options.flash.swf = "dist/js/vendors/video-js.swf"
    </script>
  </body>
</html>
